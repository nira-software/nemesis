// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" // Asegúrate de usar el proveedor correcto (PostgreSQL, MySQL, SQLite, etc.)
  url      = env("DATABASE_URL")
}

model User {
  id           String @id @default(uuid()) // UUID como clave primaria
  fullName     String @map("full_name") // Nombre personalizado de la columna en la DB
  username     String @unique // Debe ser único
  passwordHash String @map("password_hash") // Nombre personalizado de la columna en la DB
  salt         String
  roleId       Int    @map("role_id") // Relación con Role
  role         Role   @relation(fields: [roleId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users") // Nombre personalizado de la tabla en la DB
}

model Role {
  id   Int    @id @default(autoincrement()) // ID auto incrementado
  name String @unique // Nombre del rol único

  users User[] // Relación uno a muchos con User

  @@map("roles") // Nombre personalizado de la tabla en la DB
}
